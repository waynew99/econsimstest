(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{77279:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/modules/fixed-effects",function(){return t(43182)}])},35460:function(n,e,t){"use strict";t.d(e,{Z:function(){return a}});var r=t(85893),i=t(41664),o=t.n(i),c=t(35005);function a(n){var e=n.children;return(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("div",{"data-testid":"sim-container",style:{paddingBottom:25},children:[(0,r.jsx)(o(),{href:"/menu",passHref:!0,children:(0,r.jsx)(c.Z,{className:"home-button",variant:"outline-danger",id:"Menu",style:{margin:15},children:"MENU"})}),(0,r.jsx)("div",{className:"mini-logo"}),e]})})}},44372:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var r=t(85893),i=t(88375),o=t(45697),c=t.n(o),a=t(82757);function u(n){var e=n.name,t=n.text;return(0,r.jsxs)(i.Z,{className:"sim-description",variant:"primary","data-testid":"".concat(e,"-into"),children:[(0,r.jsx)(i.Z.Heading,{children:e}),(0,r.jsx)("hr",{}),t]})}u.propTypes={name:c().string.isRequired,text:a.yd.isRequired}},22066:function(n,e,t){"use strict";t.d(e,{Mc:function(){return M},N1:function(){return N},PW:function(){return z},bd:function(){return L},d5:function(){return k},dn:function(){return q},gT:function(){return m},oq:function(){return w},uR:function(){return E},uZ:function(){return v},xh:function(){return S}});var r=t(14924),i=t(26042),o=t(69396),c=t(828),a=t(29815),u=t(6656),s=t(37126),d=t.n(s),f=t(96486),l=t.n(f),x=t(2162),h=t(68856),y=t(22254),p=t.n(y),m=function(n){var e=[];return l().entries(l().countBy(n)).forEach((function(n){for(var t=(0,c.Z)(n,2),r=t[0],i=t[1],o=1;o<=i;o++)e.push({x:+r,y:o})})),e},v=function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return d().rnorm(n,e,t).map((function(n){return l().round(n,r)}))},g=function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return d().runif(n,e,t).map((function(n){return l().round(n,r)}))},j=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return d().rexp(n,e).map((function(n){return l().round(n,t)}))},Z=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return d().rchisq(n,e).map((function(n){return l().round(n,t)}))},b=function(n,e,t,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,c=d().rnorm(n,e,r).map((function(n){return l().round(n,o)})),u=d().rnorm(n,t,i).map((function(n){return l().round(n,o)}));return l().sampleSize((0,a.Z)(c).concat((0,a.Z)(u)),2e3)},w=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.mean,c=void 0===r?64:r,a=t.standardDev,u=void 0===a?3:a,s=t.low,d=void 0===s?-10:s,f=t.hi,x=void 0===f?10:f,h=t.lambda,y=void 0===h?1/64:h,p=t.degreesOfFreedom,w=void 0===p?8:p,E=t.mysteryMean1,k=void 0===E?58:E,z=t.mysteryMean2,q=void 0===z?70:z,M=t.mysterySD1,S=void 0===M?1:M,L=t.mysterySD2,N=void 0===L?3:L,R=t.precision,F=void 0===R?1:R,_={Normal:function(){return v(e,c,u,F)},Uniform:function(){return g(e,d,x,F)},Exponential:function(){return j(e,y,F)},"Chi-Squared":function(){return Z(e,w,F)},Mystery:function(){return b(e,k,q,S,N,F)}},C=_[n]();return l().shuffle(m(C)).map((function(n,e){return(0,o.Z)((0,i.Z)({},n),{id:e+1})}))},E=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return n.length>0?(0,u.J69)(n.map((function(n){return n[e]}))):void 0},k=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return n.length>0?(0,u.qoR)(n.map((function(n){return n[e]}))):void 0},z=function(n,e,t,r,i){return"Z"===n?x.jStat.zscore(e,t,r/(0,u._b3)(i)):x.jStat.tscore(e,t,r,i)},q=function(n,e,t,r,i,o){return(n-e)/(0,u._b3)(Math.pow(t,2)/i+Math.pow(r,2)/o)},M=function(n,e,t,r,i){var o="Z"===n?x.jStat.ztest(e,i):x.jStat.ttest(e,r-1,i);return">"===t&&e<0||"<"===t&&e>=0?1-o:o},S=function(n,e,t,r,i,o){var a=[[r*r,o*r*i],[o*r*i,i*i]],u=(0,h.Z)([e,t],a);return d().rnorm(n,0,5).map((function(n){var e=(0,c.Z)(u.sample(),2),t=e[0],r=40+3*t+2.5*e[1]+n;return{x:l().clamp(l().round(t,2),0,15),y:l().clamp(l().round(r,2),0,100)}}))},L=function(n,e,t,c){return n.map((function(n){return(0,o.Z)((0,i.Z)({},n),(0,r.Z)({},c,(n[c]-e)/(t||1)))}))},N=function(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(n.every((function(n){return l().isArray(n)})))e=n;else{if(!n.every((function(n){return l().isObject(n)})))throw new Error;e=n.map((function(n){return[n.x,n.y]}))}var r=p().linear(e,{precision:t}).equation;return{slope:r[0],intercept:r[1]}}},43182:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return F}});var r=t(85893),i=t(44372),o=t(14924),c=t(26042),a=t(69396),u=t(29815),s=t(67294),d=t(21608),f=t(31555),l=t(18384),x=t(99301),h=t(45697),y=t.n(h),p=t(82757);function m(n){var e=n.effects,t=n.toggleEffect,i=n.means,o=n.toggleMean,c=n.olsLines,a=n.toggleOLSLine;return(0,r.jsxs)(l.Z,{variant:"flush",style:{width:"fit-content",margin:"auto"},children:[(0,r.jsxs)(l.Z.Item,{children:[(0,r.jsx)(x.Z.Label,{children:"Entity Fixed Effects:"}),[1,2].map((function(n){return(0,r.jsx)(x.Z.Check,{checked:i.entities.includes(n),type:"checkbox",label:"Show means for Entity ".concat(n),onChange:function(){return o(n,"entities")}},n)})),[1,2].map((function(n){return(0,r.jsx)(x.Z.Check,{checked:e.entities.includes(n),type:"checkbox",label:"De-mean Entity ".concat(n),onChange:function(){return t(n,"entities")}},n)}))]}),(0,r.jsxs)(l.Z.Item,{children:[(0,r.jsx)(x.Z.Label,{children:"Period Fixed Effects:"}),[0,1,2].map((function(n){return(0,r.jsx)(x.Z.Check,{checked:i.periods.includes(n),type:"checkbox",label:"Show means for Period ".concat(n+1),onChange:function(){return o(n,"periods")}},n)})),[0,1,2].map((function(n){return(0,r.jsx)(x.Z.Check,{checked:e.periods.includes(n),type:"checkbox",label:"De-mean Period ".concat(n+1),onChange:function(){return t(n,"periods")}},n)}))]}),(0,r.jsxs)(l.Z.Item,{children:[(0,r.jsx)(x.Z.Label,{children:"Show OLS Lines:"}),["Naive","With Entity Fixed Effect","With Period Fixed Effect","With Both Fixed Effects"].map((function(n){return(0,r.jsx)(x.Z.Check,{checked:c.includes(n),type:"checkbox",label:n,onChange:function(){return a(n)}},n)}))]})]})}m.propTypes={effects:p.vB.isRequired,toggleEffect:y().func.isRequired,means:p.vB.isRequired,toggleMean:y().func.isRequired,olsLines:y().arrayOf(y().string).isRequired,toggleOLSLine:y().func.isRequired};var v=t(828),g=t(96486),j=t.n(g),Z=t(6656),b=t(22066),w=t(5152),E=12,k=-12,z=t.n(w)()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,58660))}),{loadableGenerated:{webpack:function(){return[58660]}},ssr:!1,loading:function(){return(0,r.jsx)("div",{style:{width:780,height:780}})}});function q(n){var e=n.data,t=n.effects,i=n.means,o=n.olsLines,c=function(n,r,i,o){var c=n;return t.entities.includes(r)&&(c-=(0,Z.J69)(e[r][i])),t.periods.includes(o)&&(c-=(0,Z.J69)(e[1][i][o],e[2][i][o])),c},a={1:{x:e[1].x.map((function(n,e){return c(n,1,"x",e)})),y:e[1].y.map((function(n,e){return c(n,1,"y",e)}))},2:{x:e[2].x.map((function(n,e){return c(n,2,"x",e)})),y:e[2].y.map((function(n,e){return c(n,2,"y",e)}))}},s={0:"green",1:"purple",2:"orange"},d={1:"red",2:"blue"},f=[],l=[];i.periods.forEach((function(n){f.push({label:"X\u0304<sub>i".concat(n+1,"</sub>"),value:(0,Z.J69)(e[1].x[n],e[2].x[n]),color:s[n]}),l.push({label:"\u0232<sub>i".concat(n+1,"</sub>"),value:(0,Z.J69)(e[1].y[n],e[2].y[n]),color:s[n]})})),i.entities.forEach((function(n){f.push({label:"X\u0304<sub>".concat(n,"t</sub>"),value:(0,Z.J69)(e[n].x),color:d[n]}),l.push({label:"\u0232<sub>".concat(n,"t</sub>"),value:(0,Z.J69)(e[n].y),color:d[n]})}));var x=function(n,t,r,i,o){var c=n;return"With Entity Fixed Effect"!==o&&"With Both Fixed Effects"!==o||(c-=(0,Z.J69)(e[t][r])),"With Period Fixed Effect"!==o&&"With Both Fixed Effects"!==o||(c-=(0,Z.J69)(e[1][r][i],e[2][r][i])),c},h=[];o.forEach((function(n){for(var t=j().zip((0,u.Z)(e[1].x.map((function(e,t){return x(e,1,"x",t,n)}))).concat((0,u.Z)(e[2].x.map((function(e,t){return x(e,2,"x",t,n)})))),(0,u.Z)(e[1].y.map((function(e,t){return x(e,1,"y",t,n)}))).concat((0,u.Z)(e[2].y.map((function(e,t){return x(e,2,"y",t,n)}))))),r=(0,b.N1)(t),i=r.slope,o=r.intercept,c=k;c*i+o<k;)c+=.1;for(var a=E;a*i+o>E;)a-=.1;h.push({slope:i,intercept:o,label:n,lineMin:c,lineMax:a})}));var y={1:{x:e[1].x,y:[]},2:{x:e[2].x,y:[]}};j().keys(y).forEach((function(n){j().zip(e[n].y,a[n].y).forEach((function(e){var t=(0,v.Z)(e,2),r=t[0],i=t[1];return y[n].y.push(r+(i-r))}))}));var p=j().zip(j().zip(y[1].x,y[1].y),j().zip(e[1].x,e[1].y)),m=j().zip(j().zip(a[1].x,a[1].y),j().zip(y[1].x,y[1].y)),g=j().zip(j().zip(y[2].x,y[2].y),j().zip(e[2].x,e[2].y)),w=j().zip(j().zip(a[2].x,a[2].y),j().zip(y[2].x,y[2].y));return(0,r.jsx)(z,{data:[{x:a[1].x,y:a[1].y,name:"Entity 1",type:"scatter",text:j().range(1,4).map((function(n){return"(X<sub>1".concat(n,"</sub>, Y<sub>1").concat(n,"</sub>)")})),textposition:"bottom right",mode:"markers+text",marker:{color:"red",size:10},hoverinfo:"x+y"},{x:a[2].x,y:a[2].y,name:"Entity 2",type:"scatter",text:j().range(1,4).map((function(n){return"(X<sub>2".concat(n,"</sub>, Y<sub>2").concat(n,"</sub>)")})),textposition:"bottom right",mode:"markers+text",marker:{color:"blue",size:10},hoverinfo:"x+y"},{x:e[1].x,y:e[1].y,name:"Entity 1",type:"scatter",mode:"markers",marker:{color:"red",size:10,opacity:.25},hoverinfo:"x+y",showlegend:!1},{x:e[2].x,y:e[2].y,name:"Entity 2",type:"scatter",mode:"markers",marker:{color:"blue",size:10,opacity:.25},hoverinfo:"x+y",showlegend:!1}],layout:{width:780,height:780,xaxis:{range:[k,E]},yaxis:{range:[k,E]},legend:{itemclick:!1,itemdoubleclick:!1},transition:{duration:500,easing:"sin"},annotations:(0,u.Z)(f.map((function(n){var e=n.label,t=n.value,r=n.color;return{x:t,y:k,xref:"x",yref:"y",text:e,showarrow:!0,arrowside:"none",arrowcolor:r,arrowwidth:1,ax:t,ay:E,axref:"x",ayref:"y"}}))).concat((0,u.Z)(l.map((function(n){var e=n.label,t=n.value,r=n.color;return{y:t,x:E,xref:"x",yref:"y",text:e,showarrow:!0,arrowside:"none",arrowcolor:r,arrowwidth:1,ay:t,ax:k,axref:"x",ayref:"y"}}))),(0,u.Z)(h.map((function(n){var e=n.label,t=n.slope,r=n.intercept,i=n.lineMin,o=n.lineMax;return{y:o*t+r,x:o,xref:"x",yref:"y",text:e,showarrow:!0,arrowside:"none",arrowwidth:1,ay:i*t+r,ax:i,axref:"x",ayref:"y"}}))),(0,u.Z)((0,u.Z)(p).concat((0,u.Z)(m),(0,u.Z)(g),(0,u.Z)(w)).map((function(n,e){var t=(0,v.Z)(n,2),r=(0,v.Z)(t[0],2),i=r[0],o=r[1],c=(0,v.Z)(t[1],2),a=c[0],u=c[1];return{x:i-(i-a>0?.3:i-a<0?-.3:0),y:o,xref:"x",yref:"y",showarrow:!0,arrowwidth:1,ax:a,ay:u-(o-u>0?.1:o-u<0?-.1:0),axref:"x",ayref:"y",opacity:.5,arrowcolor:e<p.length+m.length?"red":"blue"}}))))},config:{displayModeBar:!1}})}q.propTypes={data:p.uQ.isRequired,effects:p.vB.isRequired,means:p.vB.isRequired,olsLines:y().arrayOf(y().string).isRequired};var M=t(75147);function S(n){var e=n.data,t=function(n,t,r){return isNaN(r)?(0,Z.J69)(e[n][t]).toFixed(2):(0,Z.J69)(e[1][t][r],e[2][t][r]).toFixed(2)};return(0,r.jsxs)(M.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),(0,r.jsx)("th",{children:"Entity 1"}),(0,r.jsx)("th",{children:"Entity 2"}),(0,r.jsx)("th",{children:"Period 1"}),(0,r.jsx)("th",{children:"Period 2"}),(0,r.jsx)("th",{children:"Period 3"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Mean of X"}),(0,r.jsx)("td",{children:t(1,"x")}),(0,r.jsx)("td",{children:t(2,"x")}),(0,r.jsx)("td",{children:t(1,"x",0)}),(0,r.jsx)("td",{children:t(1,"x",1)}),(0,r.jsx)("td",{children:t(1,"x",2)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Mean of Y"}),(0,r.jsx)("td",{children:t(1,"y")}),(0,r.jsx)("td",{children:t(2,"y")}),(0,r.jsx)("td",{children:t(1,"y",0)}),(0,r.jsx)("td",{children:t(1,"y",1)}),(0,r.jsx)("td",{children:t(1,"y",2)})]})]})]})}function L(){var n=(0,s.useState)({periods:[],entities:[]}),e=n[0],t=n[1],i=(0,s.useState)({periods:[],entities:[]}),l=i[0],x=i[1],h=(0,s.useState)([]),y=h[0],p=h[1],v={1:{x:[-6,1,8],y:[-5,-4,7]},2:{x:[-7,-5,2],y:[6,3,1]}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(f.Z,{children:(0,r.jsx)(q,{data:v,effects:e,means:l,olsLines:y})}),(0,r.jsx)(f.Z,{style:{margin:"auto"},children:(0,r.jsx)(m,{effects:e,toggleEffect:function(n,r){var i;i=e[r].includes(n)?e[r].filter((function(e){return e!==n})):(0,u.Z)(e[r]).concat([n]),t((0,a.Z)((0,c.Z)({},e),(0,o.Z)({},r,i)))},means:l,toggleMean:function(n,e){var t;t=l[e].includes(n)?l[e].filter((function(e){return e!==n})):(0,u.Z)(l[e]).concat([n]),x((0,a.Z)((0,c.Z)({},l),(0,o.Z)({},e,t)))},olsLines:y,toggleOLSLine:function(n){var e;e=y.includes(n)?y.filter((function(e){return e!==n})):(0,u.Z)(y).concat([n]),p(e)}})})]}),(0,r.jsx)(S,{data:v})]})}function N(){return(0,r.jsxs)("div",{className:"module-container",children:[(0,r.jsx)(i.Z,{name:"Fixed Effects",text:""}),(0,r.jsx)("br",{}),(0,r.jsx)(L,{})]})}S.propTypes={data:p.uQ.isRequired};var R=t(35460);function F(){return(0,r.jsx)(R.Z,{children:(0,r.jsx)(N,{})})}},75042:function(){}},function(n){n.O(0,[265,662,714,817,103,848,480,757,774,888,179],(function(){return e=77279,n(n.s=e);var e}));var e=n.O();_N_E=e}]);